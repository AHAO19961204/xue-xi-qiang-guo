# 声明

本项目为学习 Autojs 的开源项目，仅用于技术学习与交流，严禁用于商业用途以及非法用途，所造成的后果本项目概不负责。

## 基于 Autojs 的《学习强国》自动学习脚本v3

1. 只是模拟点击，封号应该不会（理论上哈，被封别找我！）。
2. 只限制 android 系统。
3. 仅用于技术学习与交流，不可用于作弊。
4. 感谢 [Autojs](https://github.com/hyb1996/Auto.js) 作者大大提供了这个学习工具！

## 更新日志

v3.0.1 - **2021/02/01**

* 由于专项答题与每周答题开放之前的题目，更新了一下列表结束判断

v3

* 新增一个小 label 用于展示当前学习进度
* 文章阅读如果为图片或者视频的话，不会更新文章阅读的篇数 (大概率保证文章阅读数能拿满)
* 新增每日答题、每周答题、专项答题 (**根据官方公告，后续专项答题会开放去年未完成的题目，届时需要更新脚本里的流程**)
* 每日分数不足震动 10s 提醒
* 更新学习强国版本，适配 `2.19.0` 版本，其余版本未做适配

## 实测

### 设备

* MI Mix2 (1080*2160) 
* MIUI 12 (20.6.18)
* Autojs ~~4.0.1Beta~~ (由于此版本定时任务有[bug](https://github.com/hyb1996/Auto.js/issues/336)，升级至 [4.1.1Alpha2](https://github.com/Ericwyn/Auto.js/releases)，感谢做包的老哥~ )
* 学习强国 2.19.0

### 效果

* 自动解锁屏幕
* 杀掉在后台运行的学习强国
* 进行视频学习 6 分钟以上，刷 6 个以上视频 (可以在脚本开头修改相关参数)
* 进行文章学习 6 分钟以上，并完成评论、收藏、分享任务 (可以在脚本开头修改相关参数)
* 完成本地学习 (**需要在脚本开头设置本地城市**)
* 完成每日答题，直到满分
* 完成 1 次每周答题，获得0~5分
* 完成 1 次专项答题，获得0~10分
* 检查今日分数，若不足则震动提醒

## 自动答题原理

**选择题：** 抓取提示的内容，判断选项是否出现在提示中，若出现则加入候选。若候选为空，则无论单选还是多选，默认选A
**填空题：** 抓取提示的内容，找到填空位置的前4个字和后4个字。找出提示中前4字和后4字的位置，根据这两个位置截取提示内容作为填空题答案，若截取出来的答案比填空长度要短，则填 111111111111111 (超出长度也没关系，填空限制了长度，多余的会忽略)

选择题大概率都能正确，填空题比较容易翻车，因为提示的内容不一定和题目的内容一致，并且有可能出现视频题，以本人目前的水平与能力，并没有好的解决办法。由于填空题数量一般不会太多，以目前填空题的正确率来说，感觉还是可以接受的。

## 后续可能的优化

* 检查网络环境是否可用
* 检查是否有没完成的视频/文章分数
* 获取订阅分数
* 凑够每日40分

## 使用须知

0. autojs开启了锁定后台，电源管理中解除了后台运行限制
1. 测试机为MIUI，需要打开 auto.js 从后台打开应用的权限 (应用信息-权限管理-后台弹出界面) 才能支持解锁屏幕自动学习；测试机解锁方式为图案，在其他机器上测试时需要更改代码匹配实际解锁方式
2. 测试机为我的备用机，因此常年充电并连接wifi使用，打开了屏幕充电时常亮 (由于视频/文章阅读有很长一段时间没有操作，因此需要保持屏幕常亮。不开屏幕常亮可以用10分钟息屏代替)
3. 如果网络不佳或者手机反应较慢，相应延长操作间隔
4. 开发者模式中打开操作可见性来针对不同的设备修改位置信息
